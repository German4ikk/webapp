<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –°—Ç—Ä–∏–º—ã, –†—É–ª–µ—Ç–∫–∞ –∏ –ó—Ä–∏—Ç–µ–ª–∏</title>
  <link rel="stylesheet" href="style.css">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://telegram.org 'unsafe-inline'; style-src 'self'; object-src 'self'; connect-src 'self' wss://websocket-production-3524.up.railway.app;">
</head>
<body>
  <header>
    <h1 class="app-title">–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h1>
  </header>

  <!-- –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ -->
  <section id="modeSelection">
    <h2 class="mode-title">–í—ã–±–µ—Ä–∏ —Å–≤–æ–π —Ä–µ–∂–∏–º:</h2>
    <div class="mode-options">
      <label class="mode-option">
        <input type="radio" name="mode" value="stream">
        <span class="mode-label">–≠—Ñ–∏—Ä üî•</span>
      </label>
      <label class="mode-option">
        <input type="radio" name="mode" value="roulette">
        <span class="mode-label">–í–∏–¥–µ–æ-—Ä—É–ª–µ—Ç–∫–∞ üéâ</span>
      </label>
      <label class="mode-option">
        <input type="radio" name="mode" value="viewer">
        <span class="mode-label">–ó—Ä–∏—Ç–µ–ª—å üëÄ</span>
      </label>
    </div>
    <button id="startModeBtn" class="start-btn">–ó–∞–ø—É—Å—Ç–∏—Ç—å!</button>
  </section>

  <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑—Ä–∏—Ç–µ–ª—è -->
  <section id="viewerContainer" class="hidden">
    <h2 class="mode-title">–ê–∫—Ç–∏–≤–Ω—ã–µ —ç—Ñ–∏—Ä—ã</h2>
    <div id="streamList" class="stream-list"></div>
    <div id="loading" class="loading hidden">–ó–∞–≥—Ä—É–∑–∫–∞ —ç—Ñ–∏—Ä–æ–≤...</div>
  </section>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–¥–ª—è —ç—Ñ–∏—Ä–∞, —Ä—É–ª–µ—Ç–∫–∏, –∑—Ä–∏—Ç–µ–ª—è) -->
  <section id="appContainer" class="hidden">
    <h2 id="modeTitle" class="mode-title"></h2>
    <div id="videoContainer" class="video-container">
      <video id="localVideo" autoplay muted class="video"></video>
      <video id="remoteVideo" autoplay class="video hidden"></video>
    </div>
    <div id="chatContainer" class="chat-container"></div>
    <div id="inputContainer" class="input-container">
      <input type="text" id="chatInput" placeholder="–ù–∞–ø–∏—à–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å..." class="chat-input">
      <button id="sendMsgBtn" class="send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å üöÄ</button>
    </div>
    <button id="giftBtn" class="send-btn hidden">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫ üéÅ</button>
  </section>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="app.js"></script>
</body>
</html>
